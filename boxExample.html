<!DOCTYPE html>
<html>
    <!-- React -->
    <script src="react/react-0.13.3.js"></script>
    <script src="react/JSXTransformer-0.13.3.js"></script>

    <title>React Bulletin Board</title>
</head>
<body>
    <div id="react-container"></div>
    <script type="text/jsx" >
        var Box = React.createClass({
            getDefaultProps: function(){
                return {colorIndex: -1};
            },

            getInitialState: function(){
                return {
                    backgroundColor: "blue",
                    height: 200,
                    width: 200
                };
            },

            componentWillReceiveProps: function(nextProps) {
                var color = this.props.colors.split(",")[nextProps.colorIndex];
                if(!color) {this.setProps({colorIndex: 0});}
                this.setState({backgroundColor: color});
            },

            update: function(){
                this.setProps({colorIndex: this.props.colorIndex + 1});
            },

            render: function(){
                return  <div style={this.state} onClick={this.update}>

                        </div>;
            }
        });

        React.render(<Box colors="Red,black,yellow,orange,purple" />, document.getElementById("react-container"));
    </script>
</body>
</html>